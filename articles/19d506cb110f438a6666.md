---
title: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã€ŒLinearã€ã«ä»–ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰èª²é¡Œã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹"
emoji: "ğŸ³"
type: "tech"
topics: ["jira","dockerfile","linear"]
published: true
---
æœ€è¿‘ ã€ŒLinearã€ ã¨ã„ã†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã‚’äººã‹ã‚‰æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸã€‚

- å…¬å¼ã‚µã‚¤ãƒˆ
    - [https://linear.app](https://linear.app)
- å‚è€ƒï¼‰ç´¹ä»‹è¨˜äº‹
    - [ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒä½œã‚‹ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒâ€œä½¿ã„ãŸãŒã‚‹â€ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢Linear - TECHBLITZ](https://techblitz.com/linear/)

ä»¥ä¸‹ã€ä¸Šè¨˜ãƒšãƒ¼ã‚¸ã‹ã‚‰å¼•ç”¨

> Linearã¯ã€Asanaã‚„Trelloãªã©ã®ã€ã‚¿ã‚¹ã‚¯ã‚’ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã«å‰²ã‚Šå½“ã¦ã€ãã®é€²æ—çŠ¶æ³ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ã€Jiraã®ã‚ˆã†ãªã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­æœŸè¨ˆç”»ã€è¿½è·¡ã€ç®¡ç†ã‚’å®Ÿè¡Œã§ãã‚‹å¤šæ©Ÿèƒ½ãƒ„ãƒ¼ãƒ«ã®ä¸­é–“çš„ãªå­˜åœ¨ã¨ãªã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚

ã¾ã•ã«ã€ŒAsanaã‚„Trelloã ã¨ç‰©è¶³ã‚Šãªã„ã€ã€ŒJiraã ã¨ä»°ã€…ã—ã™ãã‚‹ã€ã¨æ„Ÿã˜ã¦ã„ãŸç§ã«ãƒ”ãƒƒã‚¿ãƒªã‹ã‚‚ã—ã‚Œãªã„ã€ã¨æ€ã£ã¦ä½¿ã„å§‹ã‚ã¾ã—ãŸã€‚

ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹ã¯åŸ·ç­†æ™‚ç‚¹ã§ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/104653/5014527b-9e2c-6997-4d69-f1aea12e5ac9.png)

ä»Šå›ã¯ã€Jiraã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸã€‚

# æº–å‚™

## Dockerfileã®ä½œæˆ

Linearã«èª²é¡Œã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã«ã¯ã€å…¬å¼ãŒç”¨æ„ã—ã¦ã„ã‚‹ä»¥ä¸‹ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

https://github.com/linearapp/linear-import

ç’°å¢ƒã‚’æ±šã—ãŸããªã‹ã£ãŸã®ã§ã€å®Ÿè¡Œç”¨ã®Dockerfileã‚’ä½œæˆã—ã¾ã—ãŸã€‚

- ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ„ãƒ¼ãƒ«ãŒ NodeJs 14.x ä»¥ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€NodeJsã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

```dockerfile
# Use nodejs 15.x offcial image
FROM node:15-alpine

RUN apk update && \
    apk add --no-cache \
    bash \
    curl \
    gnupg

# Install yarn
# https://github.com/linearapp/linear-import/issues/50
RUN touch ~/.bashrc \
    && curl -o- -L https://yarnpkg.com/install.sh | bash

# Install Linear Import tool
RUN npm i -g @linear/import

# Copy file
COPY ./Jira.csv /tmp/Jira.csv
```

- 2021/01/08è¿½è¨˜: ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’DockerHubã«ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸã€‚
    - [ushibutatory/linear-import - DockerHub](https://hub.docker.com/r/ushibutatory/linear-import)

## Jiraã‹ã‚‰èª²é¡Œã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆCSVå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰

[Filters]ã‹ã‚‰ç§»è¡Œã—ãŸã„èª²é¡Œã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã€[Export]-[Export Excel CSV(all fields)]ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

### æ³¨æ„ï¼

Linearã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ„ãƒ¼ãƒ«ã¯CSVé …ç›®åã‚’è‹±èªã§åˆ¤åˆ¥ã—ã¦ã„ã‚‹ã‚‰ã—ãã€æ—¥æœ¬èªã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸCSVã ã¨å¾Œã€…ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Ÿè¡Œæ™‚ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

Jiraå´ã®ç’°å¢ƒè¨­å®šã§è¨€èªã‚’è‹±èªã«åˆ‡ã‚Šæ›¿ãˆã¦ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ã‚‡ã†ã€‚

## ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
â€»ãƒ•ã‚©ãƒ«ãƒ€å `linear` ã¯ãŠå¥½ã¿ã§ã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/104653/94fec716-6b78-ad1d-40e3-cc33930874fa.png)

# ç§»è¡Œã®å®Ÿæ–½

## Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•

```console
> cd linear
> docker build -t linear-import:latest .
> docker run -t -i linear-import /bin/bash
```

ãƒ“ãƒ«ãƒ‰æ™‚ã« `npm i -g @linear/import` ã§è‰²ã€… deprecated ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è­¦å‘ŠãŒå‡ºã¾ã™ãŒã€ã“ã¡ã‚‰ã§ã¯ã©ã†ã—ã‚ˆã†ã‚‚ãªã„ã®ã§ç„¡è¦–ã—ã¾ã—ãŸã€‚

ã‚ã¨ã¯ `linear-import` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€é †æ¬¡ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å…¥åŠ›ãƒ»é¸æŠã—ã¦ã„ãã¾ã™ã€‚

- API Key: æ›¸ã‹ã‚Œã¦ã„ã‚‹URLã€ã¾ãŸã¯Linearç”»é¢ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‹ã‚‰[Settings]-[Account]-[API]å†…ã®Personal API Keysã§æ–°è¦ã«generateã—ãŸã‚‚ã®ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
    - ç§»è¡ŒãŒå®Œäº†ã—ãŸã‚‰å‰Šé™¤ã—ã¦OK

```bash
root@20849d606d70:/# linear-import
? Input your Linear API key (https://linear.app/settings/api) XXXXXXXXX
? Which service would you like to import from? Jira (CSV export) # Jiraã‚’é¸æŠ
? Select your exported CSV file of Jira issues tmp/Jira.csv # ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ
? Input the URL of your Jira installation (e.g. https://acme.atlassian.net): https://xxx.atlassian.net/ # Jiraã®URLã‚’ãƒšãƒ¼ã‚¹ãƒˆ
? Do you want to create a new team for imported issues? Yes # ãŠå¥½ã¿ã§
? Name of the team: Jira # ãŠå¥½ã¿ã§
? Do you want to assign these issues to yourself? Yes # ãŠå¥½ã¿ã§
Jira (CSV) issues imported to your backlog: ...
```

ã‚¨ãƒ©ãƒ¼ãŒèµ·ããªã‘ã‚Œã°å®Œäº†ã§ã™ã€‚

### ã‚¨ãƒ©ãƒ¼ä¾‹

ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã‚ã°ãŠãŠã‚ˆãåŸå› ã¯åˆ†ã‹ã‚Šã¾ã™ã€‚
ï¼ˆã‹ãªã‚Šè¦ªåˆ‡ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã—ã¦ãã‚Œã‚‹å°è±¡ï¼‰

ä¾‹ï¼‰CSVå½¢å¼ãŒæ­£ã—ããªã„å ´åˆã®ã‚¨ãƒ©ãƒ¼

å‰è¿°ã®é€šã‚Šã€Jiraã‚’æ—¥æœ¬èªã§ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹CSVã®é …ç›®åã‚‚æ—¥æœ¬èªã§å‡ºåŠ›ã•ã‚Œã‚‹ãŸã‚ã€Linearã§ã¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã¾ã›ã‚“ã€‚

```bash
ClientError: Variable "$title" of required type "String!" was not provided.: {
    "response": {
        "errors": [
            {
                "message": "Variable \"$title\" of required type \"String!\" was not provided.",
                "locations": [ ... ]
            }
        ],
        "status": 400
    },
    "request": {" ...
```

ä¾‹ï¼‰ä¸Šè¨˜ã§å…¥åŠ›ã—ãŸãƒãƒ¼ãƒ åãŒæ—¢ã«å­˜åœ¨ã—ã¦ã„ã‚‹å ´åˆã®ã‚¨ãƒ©ãƒ¼

```bash
Error occurred while importing:
{
  "errors": [
    {
      "message": "duplicate team name",
      "path": [
        "teamCreate"
      ],
      "locations": [ ... ],
      "extensions": {
        "type": "invalid input",
        "userError": true,
        "userPresentableMessage": "Team with this name already exists"
      }
    }
  ],
  "data": null
}
```

ã¾ã ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸç›´å¾Œã®ã‚µãƒ¼ãƒ“ã‚¹ãªã®ã§ã€ã“ã‚Œã‹ã‚‰ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãŒæ¥½ã—ã¿ã§ã™ã€‚

ä¸å‚™ãªã©ã‚ã‚Œã°ã”æŒ‡æ‘˜ãã ã•ã„ã€‚
