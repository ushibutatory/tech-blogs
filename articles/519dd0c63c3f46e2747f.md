---
title: "AWS Lambdaã‹ã‚‰Groq APIã‚’å®Ÿè¡Œã™ã‚‹ï¼ˆNode.jsç‰ˆï¼‰"
emoji: "ğŸš€"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["AWS", "Lambda", "Groq API", "Node.js"]
published: true
---

# AWS Lambda ã‹ã‚‰ Groq API ã‚’å®Ÿè¡Œã—ã¦çµæœã‚’å–å¾—ã—ãŸã„ã€‚

![æ§‹æˆå›³](https://github.com/ushibutatory/tech-blogs/blob/main/images/20250725_234233.png)

## ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ä½œæ¥­

### ç©ºã®ãƒ•ã‚©ãƒ«ãƒ€ã« `groq-sdk` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

```sh
mkdir groq-sdk-layer # åå‰ã¯ä½•ã§ã‚‚ã„ã„
cd groq-sdk-layer
npm init
npm install groq-sdk
```

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã‚’ç¢ºèªã€èª¿æ•´ã™ã‚‹

```
/groq-sdk-layer
  /package.json
  /node_modules
```

â†“

```
/groq-sdk-layer
  /nodejs # â†æ–°è¦ä½œæˆã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç§»å‹•ã•ã›ã‚‹
    /package.json
    /node_modules
```

ï¼ˆå‚è€ƒï¼‰

> é‡è¦: Node.js ç”¨ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€nodejs/node_modules ã¨ã„ã†ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ å†…ã«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

[https://repost.aws/ja/knowledge-center/lambda-import-module-error-nodejs:title]

### zip ã™ã‚‹

ä¸Šè¨˜ã® `nodejs` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ zip åœ§ç¸®ã™ã‚‹ã€‚

### ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ä½œæˆ

ä¸Šè¨˜ zip ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œæˆã—ã€Lambda é–¢æ•°ã«è¿½åŠ ã—ã¾ã™ã€‚

### å®Ÿè¡Œ

```js
import Groq from 'groq-sdk';
...
export const handler = async (event) => {
    ...
    var groq = new Groq({
        apiKey: process.env.GROQ_API_KEY,
    });
    ...
    const response = await groq.chat.completions.create(...);
    ...
```

## ãƒãƒã‚Šãƒã‚¤ãƒ³ãƒˆ

zip ã™ã‚‹éš›ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆãŒç•°ãªã‚‹ã¨ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ã§ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã¾ã™ã€‚

```
/groq-sdk-layer      # ã“ã‚Œã‚’zipã—ã¦ã‚‚ãƒ€ãƒ¡
  /nodejs            # ã“ã‚Œã‚’zipã™ã‚‹å¿…è¦ãŒã‚ã‚‹
    /package.json
    /node_modules
```
